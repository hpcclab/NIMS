[{"des_pod": {"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"cni.projectcalico.org/containerID": "28fb3dae716a7626382a226d97444c9b0350f5b2ee0b03123b6fb10dcf6cbdeb", "cni.projectcalico.org/podIP": "10.42.54.209/32", "cni.projectcalico.org/podIPs": "10.42.54.209/32", "kopf.zalando.org/last-handled-configuration": "{\"spec\":{\"volumes\":[{\"name\":\"docker-storage\",\"hostPath\":{\"path\":\"/dev/shm/dind\",\"type\":\"Directory\"}},{\"name\":\"cgroup\",\"hostPath\":{\"path\":\"/sys/fs/cgroup\",\"type\":\"Directory\"}},{\"name\":\"podinfo\",\"downwardAPI\":{\"items\":[{\"path\":\"annotations\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.annotations\"}}],\"defaultMode\":420}},{\"name\":\"kube-api-access-twdpw\",\"projected\":{\"sources\":[{\"serviceAccountToken\":{\"expirationSeconds\":3607,\"path\":\"token\"}},{\"configMap\":{\"name\":\"kube-root-ca.crt\",\"items\":[{\"key\":\"ca.crt\",\"path\":\"ca.crt\"}]}},{\"downwardAPI\":{\"items\":[{\"path\":\"namespace\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.namespace\"}}]}}],\"defaultMode\":420}}],\"containers\":[{\"name\":\"runtime\",\"image\":\"core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"LOG_LEVEL\",\"value\":\"debug\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"docker-storage\",\"mountPath\":\"/var/lib/docker\"},{\"name\":\"cgroup\",\"mountPath\":\"/sys/fs/cgroup\"},{\"name\":\"podinfo\",\"mountPath\":\"/etc/podinfo\"},{\"name\":\"kube-api-access-twdpw\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\",\"securityContext\":{\"privileged\":true}},{\"name\":\"memhog\",\"image\":\"ghcr.io/hpcclab/live_service_migration/migration-ambassador:main\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"CONTAINER_NAME\",\"value\":\"memhog\"},{\"name\":\"API_SERVER\",\"value\":\"127.0.0.1:8888\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kube-api-access-twdpw\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"startupProbe\":{\"httpGet\":{\"path\":\"/probe/memhog\",\"port\":8888,\"scheme\":\"HTTP\"},\"timeoutSeconds\":1,\"periodSeconds\":1,\"successThreshold\":1,\"failureThreshold\":3},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\"}],\"restartPolicy\":\"Always\",\"terminationGracePeriodSeconds\":30,\"dnsPolicy\":\"ClusterFirst\",\"serviceAccountName\":\"migration-coordinator\",\"serviceAccount\":\"migration-coordinator\",\"nodeName\":\"service-migration-2\",\"securityContext\":{},\"schedulerName\":\"default-scheduler\",\"tolerations\":[{\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300},{\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300}],\"priority\":0,\"enableServiceLinks\":true,\"preemptionPolicy\":\"PreemptLowerPriority\"},\"metadata\":{\"labels\":{\"app\":\"memhog\"},\"annotations\":{\"cni.projectcalico.org/containerID\":\"28fb3dae716a7626382a226d97444c9b0350f5b2ee0b03123b6fb10dcf6cbdeb\",\"cni.projectcalico.org/podIP\":\"10.42.54.209/32\",\"cni.projectcalico.org/podIPs\":\"10.42.54.209/32\",\"kubernetes.io/psp\":\"global-unrestricted-psp\",\"migration-bypass\":\"True\",\"migration-containers\":\"[{\\\"env\\\": [{\\\"name\\\": \\\"MEMORY_LIMIT\\\", \\\"value\\\": \\\"128\\\"}], \\\"image\\\": \\\"nims/scratch\\\", \\\"name\\\": \\\"memhog\\\"}]\",\"migration-host\":\"10.131.36.32.nip.io\",\"migration-id\":\"165b8bfe\",\"migration-interface\":\"dind\",\"migration-migratable\":\"True\",\"migration-port\":\"30187\",\"migration-position\":\"destination\",\"migration-start-mode\":\"passive\",\"migration-step\":\"restoring\",\"migration-volumes\":\"[]\"}}}\n", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\": \"v1\", \"kind\": \"Pod\", \"metadata\": {\"annotations\": {\"migration-interface\": \"dind\"}, \"labels\": {\"app\": \"memhog\"}, \"name\": \"memhog\", \"namespace\": \"default\"}, \"spec\": {\"containers\": [{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}], \"serviceAccountName\": \"migration-coordinator\"}}", "kubernetes.io/psp": "global-unrestricted-psp", "migration-bypass": "True", "migration-containers": "[{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}]", "migration-host": "10.131.36.32.nip.io", "migration-interface": "dind", "migration-migratable": "True", "migration-port": "30187", "migration-start-mode": "active", "migration-volumes": "[]"}, "creationTimestamp": "2023-02-15T12:39:16+00:00", "labels": {"app": "memhog"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:cni.projectcalico.org/containerID": {}, "f:cni.projectcalico.org/podIP": {}, "f:cni.projectcalico.org/podIPs": {}}}}, "manager": "Go-http-client", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:39:16+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}, "f:migration-interface": {}, "f:migration-start-mode": {}}, "f:labels": {".": {}, "f:app": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"memhog\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LIMIT\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-02-15T12:39:16+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:kopf.zalando.org/last-handled-configuration": {}, "f:migration-host": {}, "f:migration-migratable": {}, "f:migration-port": {}}}}, "manager": "kopf", "operation": "Update", "time": "2023-02-15T12:39:20+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.42.54.209\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:39:20+00:00"}], "name": "memhog", "namespace": "default", "resourceVersion": "74086761", "uid": "a0bc066c-01c9-476e-9abc-93eec49004f4"}, "spec": {"containers": [{"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "LOG_LEVEL", "value": "debug"}], "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imagePullPolicy": "Always", "name": "runtime", "resources": {}, "securityContext": {"privileged": true}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/lib/docker", "name": "docker-storage"}, {"mountPath": "/sys/fs/cgroup", "name": "cgroup"}, {"mountPath": "/etc/podinfo", "name": "podinfo"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-twdpw", "readOnly": true}]}, {"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "CONTAINER_NAME", "value": "memhog"}, {"name": "API_SERVER", "value": "127.0.0.1:8888"}], "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imagePullPolicy": "Always", "name": "memhog", "resources": {}, "startupProbe": {"failureThreshold": 3, "httpGet": {"path": "/probe/memhog", "port": 8888, "scheme": "HTTP"}, "periodSeconds": 1, "successThreshold": 1, "timeoutSeconds": 1}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-twdpw", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "service-migration-2", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "migration-coordinator", "serviceAccountName": "migration-coordinator", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"hostPath": {"path": "/dev/shm/dind", "type": "Directory"}, "name": "docker-storage"}, {"hostPath": {"path": "/sys/fs/cgroup", "type": "Directory"}, "name": "cgroup"}, {"downwardAPI": {"defaultMode": 420, "items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}, "path": "annotations"}]}, "name": "podinfo"}, {"name": "kube-api-access-twdpw", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastTransitionTime": "2023-02-15T12:39:16+00:00", "status": "True", "type": "Initialized"}, {"lastTransitionTime": "2023-02-15T12:39:20+00:00", "status": "True", "type": "Ready"}, {"lastTransitionTime": "2023-02-15T12:39:20+00:00", "status": "True", "type": "ContainersReady"}, {"lastTransitionTime": "2023-02-15T12:39:16+00:00", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://0ad5548000a2585b769786d33298b9c1d16d4a21f8814132a2ed6b1754c83da4", "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imageID": "ghcr.io/hpcclab/live_service_migration/migration-ambassador@sha256:09ff3a5616de469b0f87f1cb688bc2ac3e767ad98209a3c96fa78889596dc24d", "lastState": {}, "name": "memhog", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:39:17+00:00"}}}, {"containerID": "containerd://1bd8753552e02f748f92db17eba7e89949f2b9ef9730302aaaa1a097762dd002", "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imageID": "core.harbor.10.131.36.2.nip.io/migration/migration-dind@sha256:41effd22e5d8cd429047bf0862e7bc01206ebafbd33df36d0927b167340d1c9e", "lastState": {}, "name": "runtime", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:39:17+00:00"}}}], "hostIP": "10.131.36.32", "phase": "Running", "podIP": "10.42.54.209", "podIPs": [{"ip": "10.42.54.209"}], "qosClass": "BestEffort", "startTime": "2023-02-15T12:39:16+00:00"}}, "message": "migration complete!", "migration_id": "165b8bfe", "migration_interface": "dind", "overhead": {"checkpoint_and_transfer": {"checkpoint": 6.428, "checkpoint_files_delay": 2.193, "checkpoint_files_transfer": 7.885, "file_system_delay": 1.699, "file_system_transfer": 5.303, "image_layers_dealy": null, "image_layers_transfer": null, "volume_delay": null, "volume_transfer": null}, "checkpoint_and_transfer_total": 7.885, "creation": 3.193798, "restoration": 3.5437, "total": 14.718444}}, {"des_pod": {"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"cni.projectcalico.org/containerID": "827090c53b4d7883bb8de4fb11d5e92ceac9ad9afb4e18a12883bed930baf079", "cni.projectcalico.org/podIP": "10.42.146.159/32", "cni.projectcalico.org/podIPs": "10.42.146.159/32", "kopf.zalando.org/last-handled-configuration": "{\"spec\":{\"volumes\":[{\"name\":\"docker-storage\",\"hostPath\":{\"path\":\"/dev/shm/dind\",\"type\":\"Directory\"}},{\"name\":\"cgroup\",\"hostPath\":{\"path\":\"/sys/fs/cgroup\",\"type\":\"Directory\"}},{\"name\":\"podinfo\",\"downwardAPI\":{\"items\":[{\"path\":\"annotations\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.annotations\"}}],\"defaultMode\":420}},{\"name\":\"kube-api-access-zrxqz\",\"projected\":{\"sources\":[{\"serviceAccountToken\":{\"expirationSeconds\":3607,\"path\":\"token\"}},{\"configMap\":{\"name\":\"kube-root-ca.crt\",\"items\":[{\"key\":\"ca.crt\",\"path\":\"ca.crt\"}]}},{\"downwardAPI\":{\"items\":[{\"path\":\"namespace\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.namespace\"}}]}}],\"defaultMode\":420}}],\"containers\":[{\"name\":\"runtime\",\"image\":\"core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"LOG_LEVEL\",\"value\":\"debug\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"docker-storage\",\"mountPath\":\"/var/lib/docker\"},{\"name\":\"cgroup\",\"mountPath\":\"/sys/fs/cgroup\"},{\"name\":\"podinfo\",\"mountPath\":\"/etc/podinfo\"},{\"name\":\"kube-api-access-zrxqz\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\",\"securityContext\":{\"privileged\":true}},{\"name\":\"memhog\",\"image\":\"ghcr.io/hpcclab/live_service_migration/migration-ambassador:main\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"CONTAINER_NAME\",\"value\":\"memhog\"},{\"name\":\"API_SERVER\",\"value\":\"127.0.0.1:8888\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kube-api-access-zrxqz\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"startupProbe\":{\"httpGet\":{\"path\":\"/probe/memhog\",\"port\":8888,\"scheme\":\"HTTP\"},\"timeoutSeconds\":1,\"periodSeconds\":1,\"successThreshold\":1,\"failureThreshold\":3},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\"}],\"restartPolicy\":\"Always\",\"terminationGracePeriodSeconds\":30,\"dnsPolicy\":\"ClusterFirst\",\"serviceAccountName\":\"migration-coordinator\",\"serviceAccount\":\"migration-coordinator\",\"nodeName\":\"service-migration-1\",\"securityContext\":{},\"schedulerName\":\"default-scheduler\",\"tolerations\":[{\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300},{\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300}],\"priority\":0,\"enableServiceLinks\":true,\"preemptionPolicy\":\"PreemptLowerPriority\"},\"metadata\":{\"labels\":{\"app\":\"memhog\"},\"annotations\":{\"cni.projectcalico.org/containerID\":\"827090c53b4d7883bb8de4fb11d5e92ceac9ad9afb4e18a12883bed930baf079\",\"cni.projectcalico.org/podIP\":\"10.42.146.159/32\",\"cni.projectcalico.org/podIPs\":\"10.42.146.159/32\",\"kubernetes.io/psp\":\"global-unrestricted-psp\",\"migration-bypass\":\"True\",\"migration-containers\":\"[{\\\"env\\\": [{\\\"name\\\": \\\"MEMORY_LIMIT\\\", \\\"value\\\": \\\"128\\\"}], \\\"image\\\": \\\"nims/scratch\\\", \\\"name\\\": \\\"memhog\\\"}]\",\"migration-host\":\"10.131.36.31.nip.io\",\"migration-id\":\"6ddffad1\",\"migration-interface\":\"dind\",\"migration-migratable\":\"True\",\"migration-port\":\"30393\",\"migration-position\":\"destination\",\"migration-start-mode\":\"passive\",\"migration-step\":\"restoring\",\"migration-volumes\":\"[]\"}}}\n", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\": \"v1\", \"kind\": \"Pod\", \"metadata\": {\"annotations\": {\"migration-interface\": \"dind\"}, \"labels\": {\"app\": \"memhog\"}, \"name\": \"memhog\", \"namespace\": \"default\"}, \"spec\": {\"containers\": [{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}], \"serviceAccountName\": \"migration-coordinator\"}}", "kubernetes.io/psp": "global-unrestricted-psp", "migration-bypass": "True", "migration-containers": "[{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}]", "migration-host": "10.131.36.31.nip.io", "migration-interface": "dind", "migration-migratable": "True", "migration-port": "30393", "migration-start-mode": "active", "migration-volumes": "[]"}, "creationTimestamp": "2023-02-15T12:39:58+00:00", "labels": {"app": "memhog"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}, "f:migration-interface": {}, "f:migration-start-mode": {}}, "f:labels": {".": {}, "f:app": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"memhog\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LIMIT\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-02-15T12:39:58+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:cni.projectcalico.org/containerID": {}, "f:cni.projectcalico.org/podIP": {}, "f:cni.projectcalico.org/podIPs": {}}}}, "manager": "calico", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:39:59+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:kopf.zalando.org/last-handled-configuration": {}, "f:migration-host": {}, "f:migration-migratable": {}, "f:migration-port": {}}}}, "manager": "kopf", "operation": "Update", "time": "2023-02-15T12:40:03+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.42.146.159\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:40:03+00:00"}], "name": "memhog", "namespace": "default", "resourceVersion": "85492215", "uid": "961a1742-9788-4303-8fd1-77f47f09f6ea"}, "spec": {"containers": [{"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "LOG_LEVEL", "value": "debug"}], "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imagePullPolicy": "Always", "name": "runtime", "resources": {}, "securityContext": {"privileged": true}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/lib/docker", "name": "docker-storage"}, {"mountPath": "/sys/fs/cgroup", "name": "cgroup"}, {"mountPath": "/etc/podinfo", "name": "podinfo"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-zrxqz", "readOnly": true}]}, {"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "CONTAINER_NAME", "value": "memhog"}, {"name": "API_SERVER", "value": "127.0.0.1:8888"}], "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imagePullPolicy": "Always", "name": "memhog", "resources": {}, "startupProbe": {"failureThreshold": 3, "httpGet": {"path": "/probe/memhog", "port": 8888, "scheme": "HTTP"}, "periodSeconds": 1, "successThreshold": 1, "timeoutSeconds": 1}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-zrxqz", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "service-migration-1", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "migration-coordinator", "serviceAccountName": "migration-coordinator", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"hostPath": {"path": "/dev/shm/dind", "type": "Directory"}, "name": "docker-storage"}, {"hostPath": {"path": "/sys/fs/cgroup", "type": "Directory"}, "name": "cgroup"}, {"downwardAPI": {"defaultMode": 420, "items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}, "path": "annotations"}]}, "name": "podinfo"}, {"name": "kube-api-access-zrxqz", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastTransitionTime": "2023-02-15T12:39:58+00:00", "status": "True", "type": "Initialized"}, {"lastTransitionTime": "2023-02-15T12:40:03+00:00", "status": "True", "type": "Ready"}, {"lastTransitionTime": "2023-02-15T12:40:03+00:00", "status": "True", "type": "ContainersReady"}, {"lastTransitionTime": "2023-02-15T12:39:58+00:00", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://f64fb2a8c16bb2cf22f1178af6361a641a91bddc4d1420480dd21f940943ab5b", "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imageID": "ghcr.io/hpcclab/live_service_migration/migration-ambassador@sha256:09ff3a5616de469b0f87f1cb688bc2ac3e767ad98209a3c96fa78889596dc24d", "lastState": {}, "name": "memhog", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:40:00+00:00"}}}, {"containerID": "containerd://87dc74e556ec1a6f55277309114298b97451f90cc04adb6f1a214549ec91a4c0", "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imageID": "core.harbor.10.131.36.2.nip.io/migration/migration-dind@sha256:41effd22e5d8cd429047bf0862e7bc01206ebafbd33df36d0927b167340d1c9e", "lastState": {}, "name": "runtime", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:40:00+00:00"}}}], "hostIP": "10.131.36.31", "phase": "Running", "podIP": "10.42.146.159", "podIPs": [{"ip": "10.42.146.159"}], "qosClass": "BestEffort", "startTime": "2023-02-15T12:39:58+00:00"}}, "message": "migration complete!", "migration_id": "6ddffad1", "migration_interface": "dind", "overhead": {"checkpoint_and_transfer": {"checkpoint": 3.847, "checkpoint_files_delay": 1.7, "checkpoint_files_transfer": 5.638, "file_system_delay": 1.694, "file_system_transfer": 4.394, "image_layers_dealy": null, "image_layers_transfer": null, "volume_delay": null, "volume_transfer": null}, "checkpoint_and_transfer_total": 5.638, "creation": 4.188259, "restoration": 6.426659, "total": 16.321516}}, {"des_pod": {"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"cni.projectcalico.org/containerID": "520927ef3672672b52de245f582b23335c1fa66fe24b6479573f9e44c169f730", "cni.projectcalico.org/podIP": "10.42.54.203/32", "cni.projectcalico.org/podIPs": "10.42.54.203/32", "kopf.zalando.org/last-handled-configuration": "{\"spec\":{\"volumes\":[{\"name\":\"docker-storage\",\"hostPath\":{\"path\":\"/dev/shm/dind\",\"type\":\"Directory\"}},{\"name\":\"cgroup\",\"hostPath\":{\"path\":\"/sys/fs/cgroup\",\"type\":\"Directory\"}},{\"name\":\"podinfo\",\"downwardAPI\":{\"items\":[{\"path\":\"annotations\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.annotations\"}}],\"defaultMode\":420}},{\"name\":\"kube-api-access-j76r5\",\"projected\":{\"sources\":[{\"serviceAccountToken\":{\"expirationSeconds\":3607,\"path\":\"token\"}},{\"configMap\":{\"name\":\"kube-root-ca.crt\",\"items\":[{\"key\":\"ca.crt\",\"path\":\"ca.crt\"}]}},{\"downwardAPI\":{\"items\":[{\"path\":\"namespace\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.namespace\"}}]}}],\"defaultMode\":420}}],\"containers\":[{\"name\":\"runtime\",\"image\":\"core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"LOG_LEVEL\",\"value\":\"debug\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"docker-storage\",\"mountPath\":\"/var/lib/docker\"},{\"name\":\"cgroup\",\"mountPath\":\"/sys/fs/cgroup\"},{\"name\":\"podinfo\",\"mountPath\":\"/etc/podinfo\"},{\"name\":\"kube-api-access-j76r5\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\",\"securityContext\":{\"privileged\":true}},{\"name\":\"memhog\",\"image\":\"ghcr.io/hpcclab/live_service_migration/migration-ambassador:main\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"CONTAINER_NAME\",\"value\":\"memhog\"},{\"name\":\"API_SERVER\",\"value\":\"127.0.0.1:8888\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kube-api-access-j76r5\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"startupProbe\":{\"httpGet\":{\"path\":\"/probe/memhog\",\"port\":8888,\"scheme\":\"HTTP\"},\"timeoutSeconds\":1,\"periodSeconds\":1,\"successThreshold\":1,\"failureThreshold\":3},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\"}],\"restartPolicy\":\"Always\",\"terminationGracePeriodSeconds\":30,\"dnsPolicy\":\"ClusterFirst\",\"serviceAccountName\":\"migration-coordinator\",\"serviceAccount\":\"migration-coordinator\",\"nodeName\":\"service-migration-2\",\"securityContext\":{},\"schedulerName\":\"default-scheduler\",\"tolerations\":[{\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300},{\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300}],\"priority\":0,\"enableServiceLinks\":true,\"preemptionPolicy\":\"PreemptLowerPriority\"},\"metadata\":{\"labels\":{\"app\":\"memhog\"},\"annotations\":{\"cni.projectcalico.org/containerID\":\"520927ef3672672b52de245f582b23335c1fa66fe24b6479573f9e44c169f730\",\"cni.projectcalico.org/podIP\":\"10.42.54.203/32\",\"cni.projectcalico.org/podIPs\":\"10.42.54.203/32\",\"kubernetes.io/psp\":\"global-unrestricted-psp\",\"migration-bypass\":\"True\",\"migration-containers\":\"[{\\\"env\\\": [{\\\"name\\\": \\\"MEMORY_LIMIT\\\", \\\"value\\\": \\\"128\\\"}], \\\"image\\\": \\\"nims/scratch\\\", \\\"name\\\": \\\"memhog\\\"}]\",\"migration-host\":\"10.131.36.32.nip.io\",\"migration-id\":\"3f645d6a\",\"migration-interface\":\"dind\",\"migration-migratable\":\"True\",\"migration-port\":\"32563\",\"migration-position\":\"destination\",\"migration-start-mode\":\"passive\",\"migration-step\":\"restoring\",\"migration-volumes\":\"[]\"}}}\n", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\": \"v1\", \"kind\": \"Pod\", \"metadata\": {\"annotations\": {\"migration-interface\": \"dind\"}, \"labels\": {\"app\": \"memhog\"}, \"name\": \"memhog\", \"namespace\": \"default\"}, \"spec\": {\"containers\": [{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}], \"serviceAccountName\": \"migration-coordinator\"}}", "kubernetes.io/psp": "global-unrestricted-psp", "migration-bypass": "True", "migration-containers": "[{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}]", "migration-host": "10.131.36.32.nip.io", "migration-interface": "dind", "migration-migratable": "True", "migration-port": "32563", "migration-start-mode": "active", "migration-volumes": "[]"}, "creationTimestamp": "2023-02-15T12:40:42+00:00", "labels": {"app": "memhog"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}, "f:migration-interface": {}, "f:migration-start-mode": {}}, "f:labels": {".": {}, "f:app": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"memhog\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LIMIT\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-02-15T12:40:42+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:cni.projectcalico.org/containerID": {}, "f:cni.projectcalico.org/podIP": {}, "f:cni.projectcalico.org/podIPs": {}}}}, "manager": "Go-http-client", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:40:43+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:kopf.zalando.org/last-handled-configuration": {}, "f:migration-host": {}, "f:migration-migratable": {}, "f:migration-port": {}}}}, "manager": "kopf", "operation": "Update", "time": "2023-02-15T12:40:46+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.42.54.203\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:40:46+00:00"}], "name": "memhog", "namespace": "default", "resourceVersion": "74087350", "uid": "afe7010b-21ba-4bfa-8307-115ace098262"}, "spec": {"containers": [{"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "LOG_LEVEL", "value": "debug"}], "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imagePullPolicy": "Always", "name": "runtime", "resources": {}, "securityContext": {"privileged": true}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/lib/docker", "name": "docker-storage"}, {"mountPath": "/sys/fs/cgroup", "name": "cgroup"}, {"mountPath": "/etc/podinfo", "name": "podinfo"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-j76r5", "readOnly": true}]}, {"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "CONTAINER_NAME", "value": "memhog"}, {"name": "API_SERVER", "value": "127.0.0.1:8888"}], "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imagePullPolicy": "Always", "name": "memhog", "resources": {}, "startupProbe": {"failureThreshold": 3, "httpGet": {"path": "/probe/memhog", "port": 8888, "scheme": "HTTP"}, "periodSeconds": 1, "successThreshold": 1, "timeoutSeconds": 1}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-j76r5", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "service-migration-2", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "migration-coordinator", "serviceAccountName": "migration-coordinator", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"hostPath": {"path": "/dev/shm/dind", "type": "Directory"}, "name": "docker-storage"}, {"hostPath": {"path": "/sys/fs/cgroup", "type": "Directory"}, "name": "cgroup"}, {"downwardAPI": {"defaultMode": 420, "items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}, "path": "annotations"}]}, "name": "podinfo"}, {"name": "kube-api-access-j76r5", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastTransitionTime": "2023-02-15T12:40:42+00:00", "status": "True", "type": "Initialized"}, {"lastTransitionTime": "2023-02-15T12:40:46+00:00", "status": "True", "type": "Ready"}, {"lastTransitionTime": "2023-02-15T12:40:46+00:00", "status": "True", "type": "ContainersReady"}, {"lastTransitionTime": "2023-02-15T12:40:42+00:00", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://81d1bdf0680e47c35105b52f9e10dcd5aff66c25697e3d07b3555e036eccf373", "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imageID": "ghcr.io/hpcclab/live_service_migration/migration-ambassador@sha256:09ff3a5616de469b0f87f1cb688bc2ac3e767ad98209a3c96fa78889596dc24d", "lastState": {}, "name": "memhog", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:40:44+00:00"}}}, {"containerID": "containerd://8bf48a16e335044d12451ef71ca5f1d135e16a6c6a02f02b2b42cdfcea51ac46", "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imageID": "core.harbor.10.131.36.2.nip.io/migration/migration-dind@sha256:41effd22e5d8cd429047bf0862e7bc01206ebafbd33df36d0927b167340d1c9e", "lastState": {}, "name": "runtime", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:40:43+00:00"}}}], "hostIP": "10.131.36.32", "phase": "Running", "podIP": "10.42.54.203", "podIPs": [{"ip": "10.42.54.203"}], "qosClass": "BestEffort", "startTime": "2023-02-15T12:40:42+00:00"}}, "message": "migration complete!", "migration_id": "3f645d6a", "migration_interface": "dind", "overhead": {"checkpoint_and_transfer": {"checkpoint": 6.403, "checkpoint_files_delay": 2.381, "checkpoint_files_transfer": 7.919, "file_system_delay": 1.716, "file_system_transfer": 5.275, "image_layers_dealy": null, "image_layers_transfer": null, "volume_delay": null, "volume_transfer": null}, "checkpoint_and_transfer_total": 7.919, "creation": 3.076985, "restoration": 3.601672, "total": 14.690681}}, {"des_pod": {"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"cni.projectcalico.org/containerID": "c4006cea7eb756552d5f64a4e5a76ba4cf9dc7ad456059e4c5ac71c9f2a215bb", "cni.projectcalico.org/podIP": "10.42.146.22/32", "cni.projectcalico.org/podIPs": "10.42.146.22/32", "kopf.zalando.org/last-handled-configuration": "{\"spec\":{\"volumes\":[{\"name\":\"docker-storage\",\"hostPath\":{\"path\":\"/dev/shm/dind\",\"type\":\"Directory\"}},{\"name\":\"cgroup\",\"hostPath\":{\"path\":\"/sys/fs/cgroup\",\"type\":\"Directory\"}},{\"name\":\"podinfo\",\"downwardAPI\":{\"items\":[{\"path\":\"annotations\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.annotations\"}}],\"defaultMode\":420}},{\"name\":\"kube-api-access-lfbz5\",\"projected\":{\"sources\":[{\"serviceAccountToken\":{\"expirationSeconds\":3607,\"path\":\"token\"}},{\"configMap\":{\"name\":\"kube-root-ca.crt\",\"items\":[{\"key\":\"ca.crt\",\"path\":\"ca.crt\"}]}},{\"downwardAPI\":{\"items\":[{\"path\":\"namespace\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.namespace\"}}]}}],\"defaultMode\":420}}],\"containers\":[{\"name\":\"runtime\",\"image\":\"core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"LOG_LEVEL\",\"value\":\"debug\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"docker-storage\",\"mountPath\":\"/var/lib/docker\"},{\"name\":\"cgroup\",\"mountPath\":\"/sys/fs/cgroup\"},{\"name\":\"podinfo\",\"mountPath\":\"/etc/podinfo\"},{\"name\":\"kube-api-access-lfbz5\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\",\"securityContext\":{\"privileged\":true}},{\"name\":\"memhog\",\"image\":\"ghcr.io/hpcclab/live_service_migration/migration-ambassador:main\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"CONTAINER_NAME\",\"value\":\"memhog\"},{\"name\":\"API_SERVER\",\"value\":\"127.0.0.1:8888\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kube-api-access-lfbz5\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"startupProbe\":{\"httpGet\":{\"path\":\"/probe/memhog\",\"port\":8888,\"scheme\":\"HTTP\"},\"timeoutSeconds\":1,\"periodSeconds\":1,\"successThreshold\":1,\"failureThreshold\":3},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\"}],\"restartPolicy\":\"Always\",\"terminationGracePeriodSeconds\":30,\"dnsPolicy\":\"ClusterFirst\",\"serviceAccountName\":\"migration-coordinator\",\"serviceAccount\":\"migration-coordinator\",\"nodeName\":\"service-migration-1\",\"securityContext\":{},\"schedulerName\":\"default-scheduler\",\"tolerations\":[{\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300},{\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300}],\"priority\":0,\"enableServiceLinks\":true,\"preemptionPolicy\":\"PreemptLowerPriority\"},\"metadata\":{\"labels\":{\"app\":\"memhog\"},\"annotations\":{\"cni.projectcalico.org/containerID\":\"c4006cea7eb756552d5f64a4e5a76ba4cf9dc7ad456059e4c5ac71c9f2a215bb\",\"cni.projectcalico.org/podIP\":\"10.42.146.22/32\",\"cni.projectcalico.org/podIPs\":\"10.42.146.22/32\",\"kubernetes.io/psp\":\"global-unrestricted-psp\",\"migration-bypass\":\"True\",\"migration-containers\":\"[{\\\"env\\\": [{\\\"name\\\": \\\"MEMORY_LIMIT\\\", \\\"value\\\": \\\"128\\\"}], \\\"image\\\": \\\"nims/scratch\\\", \\\"name\\\": \\\"memhog\\\"}]\",\"migration-host\":\"10.131.36.31.nip.io\",\"migration-id\":\"1a3fcf0a\",\"migration-interface\":\"dind\",\"migration-migratable\":\"True\",\"migration-port\":\"30742\",\"migration-position\":\"destination\",\"migration-start-mode\":\"passive\",\"migration-step\":\"restoring\",\"migration-volumes\":\"[]\"}}}\n", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\": \"v1\", \"kind\": \"Pod\", \"metadata\": {\"annotations\": {\"migration-interface\": \"dind\"}, \"labels\": {\"app\": \"memhog\"}, \"name\": \"memhog\", \"namespace\": \"default\"}, \"spec\": {\"containers\": [{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}], \"serviceAccountName\": \"migration-coordinator\"}}", "kubernetes.io/psp": "global-unrestricted-psp", "migration-bypass": "True", "migration-containers": "[{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}]", "migration-host": "10.131.36.31.nip.io", "migration-interface": "dind", "migration-migratable": "True", "migration-port": "30742", "migration-start-mode": "active", "migration-volumes": "[]"}, "creationTimestamp": "2023-02-15T12:41:25+00:00", "labels": {"app": "memhog"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}, "f:migration-interface": {}, "f:migration-start-mode": {}}, "f:labels": {".": {}, "f:app": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"memhog\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LIMIT\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-02-15T12:41:24+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:cni.projectcalico.org/containerID": {}, "f:cni.projectcalico.org/podIP": {}, "f:cni.projectcalico.org/podIPs": {}}}}, "manager": "calico", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:41:25+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:kopf.zalando.org/last-handled-configuration": {}, "f:migration-host": {}, "f:migration-migratable": {}, "f:migration-port": {}}}}, "manager": "kopf", "operation": "Update", "time": "2023-02-15T12:41:29+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.42.146.22\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:41:29+00:00"}], "name": "memhog", "namespace": "default", "resourceVersion": "85492756", "uid": "9d3682bf-b69c-4677-bf6f-a0e9a19c9d85"}, "spec": {"containers": [{"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "LOG_LEVEL", "value": "debug"}], "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imagePullPolicy": "Always", "name": "runtime", "resources": {}, "securityContext": {"privileged": true}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/lib/docker", "name": "docker-storage"}, {"mountPath": "/sys/fs/cgroup", "name": "cgroup"}, {"mountPath": "/etc/podinfo", "name": "podinfo"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-lfbz5", "readOnly": true}]}, {"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "CONTAINER_NAME", "value": "memhog"}, {"name": "API_SERVER", "value": "127.0.0.1:8888"}], "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imagePullPolicy": "Always", "name": "memhog", "resources": {}, "startupProbe": {"failureThreshold": 3, "httpGet": {"path": "/probe/memhog", "port": 8888, "scheme": "HTTP"}, "periodSeconds": 1, "successThreshold": 1, "timeoutSeconds": 1}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-lfbz5", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "service-migration-1", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "migration-coordinator", "serviceAccountName": "migration-coordinator", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"hostPath": {"path": "/dev/shm/dind", "type": "Directory"}, "name": "docker-storage"}, {"hostPath": {"path": "/sys/fs/cgroup", "type": "Directory"}, "name": "cgroup"}, {"downwardAPI": {"defaultMode": 420, "items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}, "path": "annotations"}]}, "name": "podinfo"}, {"name": "kube-api-access-lfbz5", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastTransitionTime": "2023-02-15T12:41:25+00:00", "status": "True", "type": "Initialized"}, {"lastTransitionTime": "2023-02-15T12:41:29+00:00", "status": "True", "type": "Ready"}, {"lastTransitionTime": "2023-02-15T12:41:29+00:00", "status": "True", "type": "ContainersReady"}, {"lastTransitionTime": "2023-02-15T12:41:25+00:00", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://c2cadc60092da291ad9f659bd6e9b488b8dbf44ce15a3f732fa46c5300c6b53c", "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imageID": "ghcr.io/hpcclab/live_service_migration/migration-ambassador@sha256:09ff3a5616de469b0f87f1cb688bc2ac3e767ad98209a3c96fa78889596dc24d", "lastState": {}, "name": "memhog", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:41:27+00:00"}}}, {"containerID": "containerd://82a01f999cb800504903e2152a0c104c30d7ba15dd19713137fb516de29ff2ba", "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imageID": "core.harbor.10.131.36.2.nip.io/migration/migration-dind@sha256:41effd22e5d8cd429047bf0862e7bc01206ebafbd33df36d0927b167340d1c9e", "lastState": {}, "name": "runtime", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:41:26+00:00"}}}], "hostIP": "10.131.36.31", "phase": "Running", "podIP": "10.42.146.22", "podIPs": [{"ip": "10.42.146.22"}], "qosClass": "BestEffort", "startTime": "2023-02-15T12:41:25+00:00"}}, "message": "migration complete!", "migration_id": "1a3fcf0a", "migration_interface": "dind", "overhead": {"checkpoint_and_transfer": {"checkpoint": 3.895, "checkpoint_files_delay": 1.599, "checkpoint_files_transfer": 5.186, "file_system_delay": 0.135, "file_system_transfer": 2.519, "image_layers_dealy": null, "image_layers_transfer": null, "volume_delay": null, "volume_transfer": null}, "checkpoint_and_transfer_total": 5.186, "creation": 4.341946, "restoration": 5.87505, "total": 15.46853}}, {"des_pod": {"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"cni.projectcalico.org/containerID": "d11989134e29f890dfbe54c34ab0cfb06893ffe0319173a0a075f3d52b4574a0", "cni.projectcalico.org/podIP": "10.42.54.215/32", "cni.projectcalico.org/podIPs": "10.42.54.215/32", "kopf.zalando.org/last-handled-configuration": "{\"spec\":{\"volumes\":[{\"name\":\"docker-storage\",\"hostPath\":{\"path\":\"/dev/shm/dind\",\"type\":\"Directory\"}},{\"name\":\"cgroup\",\"hostPath\":{\"path\":\"/sys/fs/cgroup\",\"type\":\"Directory\"}},{\"name\":\"podinfo\",\"downwardAPI\":{\"items\":[{\"path\":\"annotations\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.annotations\"}}],\"defaultMode\":420}},{\"name\":\"kube-api-access-w8m6s\",\"projected\":{\"sources\":[{\"serviceAccountToken\":{\"expirationSeconds\":3607,\"path\":\"token\"}},{\"configMap\":{\"name\":\"kube-root-ca.crt\",\"items\":[{\"key\":\"ca.crt\",\"path\":\"ca.crt\"}]}},{\"downwardAPI\":{\"items\":[{\"path\":\"namespace\",\"fieldRef\":{\"apiVersion\":\"v1\",\"fieldPath\":\"metadata.namespace\"}}]}}],\"defaultMode\":420}}],\"containers\":[{\"name\":\"runtime\",\"image\":\"core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"LOG_LEVEL\",\"value\":\"debug\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"docker-storage\",\"mountPath\":\"/var/lib/docker\"},{\"name\":\"cgroup\",\"mountPath\":\"/sys/fs/cgroup\"},{\"name\":\"podinfo\",\"mountPath\":\"/etc/podinfo\"},{\"name\":\"kube-api-access-w8m6s\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\",\"securityContext\":{\"privileged\":true}},{\"name\":\"memhog\",\"image\":\"ghcr.io/hpcclab/live_service_migration/migration-ambassador:main\",\"env\":[{\"name\":\"DOCKER_HOST\",\"value\":\"127.0.0.1:2375\"},{\"name\":\"CONTAINER_NAME\",\"value\":\"memhog\"},{\"name\":\"API_SERVER\",\"value\":\"127.0.0.1:8888\"}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kube-api-access-w8m6s\",\"readOnly\":true,\"mountPath\":\"/var/run/secrets/kubernetes.io/serviceaccount\"}],\"startupProbe\":{\"httpGet\":{\"path\":\"/probe/memhog\",\"port\":8888,\"scheme\":\"HTTP\"},\"timeoutSeconds\":1,\"periodSeconds\":1,\"successThreshold\":1,\"failureThreshold\":3},\"terminationMessagePath\":\"/dev/termination-log\",\"terminationMessagePolicy\":\"File\",\"imagePullPolicy\":\"Always\"}],\"restartPolicy\":\"Always\",\"terminationGracePeriodSeconds\":30,\"dnsPolicy\":\"ClusterFirst\",\"serviceAccountName\":\"migration-coordinator\",\"serviceAccount\":\"migration-coordinator\",\"nodeName\":\"service-migration-2\",\"securityContext\":{},\"schedulerName\":\"default-scheduler\",\"tolerations\":[{\"key\":\"node.kubernetes.io/not-ready\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300},{\"key\":\"node.kubernetes.io/unreachable\",\"operator\":\"Exists\",\"effect\":\"NoExecute\",\"tolerationSeconds\":300}],\"priority\":0,\"enableServiceLinks\":true,\"preemptionPolicy\":\"PreemptLowerPriority\"},\"metadata\":{\"labels\":{\"app\":\"memhog\"},\"annotations\":{\"cni.projectcalico.org/containerID\":\"d11989134e29f890dfbe54c34ab0cfb06893ffe0319173a0a075f3d52b4574a0\",\"cni.projectcalico.org/podIP\":\"10.42.54.215/32\",\"cni.projectcalico.org/podIPs\":\"10.42.54.215/32\",\"kubernetes.io/psp\":\"global-unrestricted-psp\",\"migration-bypass\":\"True\",\"migration-containers\":\"[{\\\"env\\\": [{\\\"name\\\": \\\"MEMORY_LIMIT\\\", \\\"value\\\": \\\"128\\\"}], \\\"image\\\": \\\"nims/scratch\\\", \\\"name\\\": \\\"memhog\\\"}]\",\"migration-host\":\"10.131.36.32.nip.io\",\"migration-id\":\"44a2e6a5\",\"migration-interface\":\"dind\",\"migration-migratable\":\"True\",\"migration-port\":\"30180\",\"migration-position\":\"destination\",\"migration-start-mode\":\"passive\",\"migration-step\":\"restoring\",\"migration-volumes\":\"[]\"}}}\n", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\": \"v1\", \"kind\": \"Pod\", \"metadata\": {\"annotations\": {\"migration-interface\": \"dind\"}, \"labels\": {\"app\": \"memhog\"}, \"name\": \"memhog\", \"namespace\": \"default\"}, \"spec\": {\"containers\": [{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}], \"serviceAccountName\": \"migration-coordinator\"}}", "kubernetes.io/psp": "global-unrestricted-psp", "migration-bypass": "True", "migration-containers": "[{\"env\": [{\"name\": \"MEMORY_LIMIT\", \"value\": \"128\"}], \"image\": \"nims/scratch\", \"name\": \"memhog\"}]", "migration-host": "10.131.36.32.nip.io", "migration-interface": "dind", "migration-migratable": "True", "migration-port": "30180", "migration-start-mode": "active", "migration-volumes": "[]"}, "creationTimestamp": "2023-02-15T12:42:08+00:00", "labels": {"app": "memhog"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:cni.projectcalico.org/containerID": {}, "f:cni.projectcalico.org/podIP": {}, "f:cni.projectcalico.org/podIPs": {}}}}, "manager": "Go-http-client", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:42:08+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}, "f:migration-interface": {}, "f:migration-start-mode": {}}, "f:labels": {".": {}, "f:app": {}}}, "f:spec": {"f:containers": {"k:{\"name\":\"memhog\"}": {".": {}, "f:env": {".": {}, "k:{\"name\":\"MEMORY_LIMIT\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:name": {}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}}}, "manager": "OpenAPI-Generator", "operation": "Update", "time": "2023-02-15T12:42:08+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.42.54.215\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "subresource": "status", "time": "2023-02-15T12:42:11+00:00"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {"f:kopf.zalando.org/last-handled-configuration": {}, "f:migration-host": {}, "f:migration-migratable": {}, "f:migration-port": {}}}}, "manager": "kopf", "operation": "Update", "time": "2023-02-15T12:42:12+00:00"}], "name": "memhog", "namespace": "default", "resourceVersion": "74087930", "uid": "5599127e-4aa7-4f85-9a2f-b065e2b4b94f"}, "spec": {"containers": [{"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "LOG_LEVEL", "value": "debug"}], "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imagePullPolicy": "Always", "name": "runtime", "resources": {}, "securityContext": {"privileged": true}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/lib/docker", "name": "docker-storage"}, {"mountPath": "/sys/fs/cgroup", "name": "cgroup"}, {"mountPath": "/etc/podinfo", "name": "podinfo"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-w8m6s", "readOnly": true}]}, {"env": [{"name": "DOCKER_HOST", "value": "127.0.0.1:2375"}, {"name": "CONTAINER_NAME", "value": "memhog"}, {"name": "API_SERVER", "value": "127.0.0.1:8888"}], "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imagePullPolicy": "Always", "name": "memhog", "resources": {}, "startupProbe": {"failureThreshold": 3, "httpGet": {"path": "/probe/memhog", "port": 8888, "scheme": "HTTP"}, "periodSeconds": 1, "successThreshold": 1, "timeoutSeconds": 1}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-w8m6s", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "service-migration-2", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "migration-coordinator", "serviceAccountName": "migration-coordinator", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"hostPath": {"path": "/dev/shm/dind", "type": "Directory"}, "name": "docker-storage"}, {"hostPath": {"path": "/sys/fs/cgroup", "type": "Directory"}, "name": "cgroup"}, {"downwardAPI": {"defaultMode": 420, "items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.annotations"}, "path": "annotations"}]}, "name": "podinfo"}, {"name": "kube-api-access-w8m6s", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastTransitionTime": "2023-02-15T12:42:08+00:00", "status": "True", "type": "Initialized"}, {"lastTransitionTime": "2023-02-15T12:42:11+00:00", "status": "True", "type": "Ready"}, {"lastTransitionTime": "2023-02-15T12:42:11+00:00", "status": "True", "type": "ContainersReady"}, {"lastTransitionTime": "2023-02-15T12:42:08+00:00", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://891e1acbd0227b4fe12f7bf275b5d7492428cc1de19dabb108e6d9d69d60f5db", "image": "ghcr.io/hpcclab/live_service_migration/migration-ambassador:main", "imageID": "ghcr.io/hpcclab/live_service_migration/migration-ambassador@sha256:09ff3a5616de469b0f87f1cb688bc2ac3e767ad98209a3c96fa78889596dc24d", "lastState": {}, "name": "memhog", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:42:09+00:00"}}}, {"containerID": "containerd://b77d189a563289c4e1971022d32449bb735e9574a1f31cf026489e117fd98a78", "image": "core.harbor.10.131.36.2.nip.io/migration/migration-dind:latest", "imageID": "core.harbor.10.131.36.2.nip.io/migration/migration-dind@sha256:41effd22e5d8cd429047bf0862e7bc01206ebafbd33df36d0927b167340d1c9e", "lastState": {}, "name": "runtime", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2023-02-15T12:42:09+00:00"}}}], "hostIP": "10.131.36.32", "phase": "Running", "podIP": "10.42.54.215", "podIPs": [{"ip": "10.42.54.215"}], "qosClass": "BestEffort", "startTime": "2023-02-15T12:42:08+00:00"}}, "message": "migration complete!", "migration_id": "44a2e6a5", "migration_interface": "dind", "overhead": {"checkpoint_and_transfer": {"checkpoint": 6.242, "checkpoint_files_delay": 2.239, "checkpoint_files_transfer": 7.403, "file_system_delay": 1.68, "file_system_transfer": 5.549, "image_layers_dealy": null, "image_layers_transfer": null, "volume_delay": null, "volume_transfer": null}, "checkpoint_and_transfer_total": 7.403, "creation": 2.988064, "restoration": 3.522873, "total": 13.999402}}]